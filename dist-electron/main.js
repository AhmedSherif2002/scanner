"use strict";const e=require("electron"),o=require("path"),d=require("url"),p=require("fs");var t=typeof document<"u"?document.currentScript:null;if(typeof e=="string")throw new TypeError("Not running in an Electron environment!");const{env:a}=process,u="ELECTRON_IS_DEV"in a,f=Number.parseInt(a.ELECTRON_IS_DEV,10)===1,r=u?f:!e.app.isPackaged,w=d.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:t&&t.tagName.toUpperCase()==="SCRIPT"&&t.src||new URL("main.js",document.baseURI).href),i=o.dirname(w);let n;function s(){n=new e.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0,enableRemoteModule:!1,preload:o.join(i,"preload.js")}}),n.loadURL(r?"http://localhost:5173":`file://${o.join(i,"../dist/index.html")}`),r&&n.webContents.openDevTools()}e.app.whenReady().then(s);e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&s()});e.ipcMain.on("toMain",(m,c)=>{p.readFile(c,(h,l)=>{n.webContents.send("fromMain",l.toString())})});
