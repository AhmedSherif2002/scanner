"use strict";const e=require("electron"),t=require("path"),d=require("url"),p=require("fs");var o=typeof document<"u"?document.currentScript:null;if(typeof e=="string")throw new TypeError("Not running in an Electron environment!");const{env:c}=process,u="ELECTRON_IS_DEV"in c,f=Number.parseInt(c.ELECTRON_IS_DEV,10)===1,s=u?f:!e.app.isPackaged,w=d.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:o&&o.tagName.toUpperCase()==="SCRIPT"&&o.src||new URL("main.js",document.baseURI).href),a=t.dirname(w);let n;function l(){n=new e.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0,enableRemoteModule:!1,preload:t.join(a,"preload.js")}}),n.loadURL(s?"http://localhost:5173":`file://${t.join(a,"../dist/index.html")}`),s&&n.webContents.openDevTools()}e.app.whenReady().then(l);e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&l()});e.ipcMain.on("toMain",(m,r)=>{p.readFile(r,(h,i)=>{console.log(r),console.log(i.toString()),n.webContents.send("fromMain",i.toString())})});
